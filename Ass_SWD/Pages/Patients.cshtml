@page

@model Ass_SWD.Pages.PatientsModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
}
@{
	Layout = "_MainLayout";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<button type="button" style="float:right;margin-top:20px" class="btn btn-primary" data-toggle="modal" data-target="#addPatientModal">
	Add New Patient
</button>
	<table style="margin-top:20px" class="table table-hover mb-0">
		<thead>
			<tr>
				<th>ID</th>
				<th>Full Name</th>
				<th>Gender</th>
				<th>Date of Birth</th>
				<th>Address</th>
				<th>Phone</th>
				<th>NumberId</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var patient in Model.patients)
			{
			<tr>
				<td>@patient.PatientId</td>
				<td>@patient.FullName</td>
				<td>@patient.Gender</td>
				<td>@patient.Dob.ToString("dd/MM/yyyy")</td>
				<td>@patient.Address</td>
				<td>@patient.Phone</td>
				<td>@patient.NumberId</td>
				<td>
					<div>
						<a asp-page="./ViewMedicalRecords" asp-route-id="@patient.PatientId" class="btn btn-info">View Medical Records</a>
					</div>
					<div style="margin-top:10px">
						<a asp-page="./UpdatePatients" asp-route-id="@patient.PatientId" class="btn btn-primary">Update</a>
					</div>
					<div style="margin-top:10px">
						<a asp-page="./Insurance/Index" asp-route-id="@patient.PatientId" class="btn btn-primary">Insurances</a>
					</div>
					<div style="margin-top:10px">
						<form method="post" asp-page-handler="Delete" asp-route-id="@patient.PatientId">
							<button type="submit" class="btn btn-danger">Delete</button>
						</form>
					</div>
				</td>
			</tr>
			}
		</tbody>
	</table>



	<div class="modal fade" id="addPatientModal" tabindex="-1" role="dialog" aria-labelledby="addPatientModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="addPatientModalLabel">Add New Patient</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form method="post">
						<div class="form-group">
							<label asp-for="Input.FullName"></label>
							<input asp-for="Input.FullName" class="form-control" />
							<span asp-validation-for="Input.FullName" class="text-danger"></span>
						</div>

						<div class="form-group">
							<label asp-for="Input.Gender"></label>
							<select asp-for="Input.Gender" class="form-control">
								<option value="Male">Male</option>
								<option value="Female">Female</option>
								<option value="Other">Other</option>
							</select>
							<span asp-validation-for="Input.Gender" class="text-danger"></span>
						</div>

						<div class="form-group">
							<label asp-for="Input.Dob"></label>
							<input asp-for="Input.Dob" type="date" class="form-control" />
							<span asp-validation-for="Input.Dob" class="text-danger"></span>
						</div>

						<div class="form-group">
							<label asp-for="Input.Address"></label>
							<input asp-for="Input.Address" class="form-control" />
							<span asp-validation-for="Input.Address" class="text-danger"></span>
						</div>

						<div class="form-group">
							<label asp-for="Input.Phone"></label>
							<input asp-for="Input.Phone" class="form-control" />
							<span asp-validation-for="Input.Phone" class="text-danger"></span>
						</div>

						<div class="form-group">
							<label asp-for="Input.NumberId"></label>
							<input asp-for="Input.NumberId" class="form-control" />
							<span asp-validation-for="Input.NumberId" class="text-danger"></span>
						</div>

						<div class="form-group">
							<button type="submit" class="btn btn-primary">Add Patient</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>








