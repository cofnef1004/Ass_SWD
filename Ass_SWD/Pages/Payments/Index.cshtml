@page
@model Ass_SWD.Pages.Payments.IndexModel
@using Ass_SWD.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_MainLayout";
}


<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</head>


<body class="mt-5">

    <h2>
        Payment
    </h2>

    <table class="table table-bordered" id="tblPayment">
        <thead>
            <tr>
                <th scope="col">Payment ID</th>
                <th scope="col">Invoice Number</th>
                <th scope="col">Billing Information</th>
                <th scope="col">Amount</th>
                <th scope="col">Payed Date</th>
                <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody>

            
       
            @foreach (Payment p in Model.listPayment)
            {
                <tr>
                    <td>@p.PaymentId</td>
                    <td>@p.InvoiceNumber</td>
                    <td>@p.BillingInformation</td>
                    <td>@p.Amount</td>
                    <td>@p.PayedDate</td>
                    @if (p.Status == true)
                    {
                        <td>Done</td>
                    }
                    else
                    {
                        <td>Processing</td>
                    }
                </tr>
            }


        </tbody>
    </table>

    <a asp-page="/Payments/Create">
        <input type="submit" class="btn btn-primary" value="Add new payment" />
    </a>
   
    <button onclick="tableToExcel()" class="btn btn-primary">Export</button>

    <script type="text/javascript" src="/js/script.js"></script>
    <script type="text/javascript" src="/js/table2excel.js"></script>
   
</body>